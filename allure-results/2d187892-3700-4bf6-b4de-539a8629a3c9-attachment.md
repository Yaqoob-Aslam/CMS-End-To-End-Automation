# Test info

- Name: CMS Application Automation >> Scheduling >> Create Timetable
- Location: /home/yaqoob/CMS-End-To-End-Automation/tests/CMS-Test-Cases.spec.js:144:9

# Error details

```
TimeoutError: locator.click: Timeout 10000ms exceeded.
Call log:
  - waiting for getByRole('option', { name: 'Scenario U77627' })

    at /home/yaqoob/CMS-End-To-End-Automation/tests/CMS-Test-Cases.spec.js:152:62
```

# Page snapshot

```yaml
- dialog "Add New Time Table":
  - heading "Add New Time Table" [level=2]
  - text: Time Table Name *
  - textbox "Enter time table name": Timetable U77627
  - text: Scenario *
  - subscript
  - subscript
  - log: 246 results available.Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu, press Tab to select the option and exit the menu.
  - text: Select scenario
  - combobox [expanded]
  - text: Start Time *
  - textbox
  - text: End Time *
  - textbox
  - button "Cancel"
  - button "Add"
- listbox:
  - option "Scenario Testing"
  - option "Test Scenario"
  - option "Scenario A1"
  - option "Scenario W_1"
  - option "Sync test scenario 2 reverse vroom boom test 2"
  - option "Sync test scenario code update"
  - option "Sendo tester"
  - option "Test Scenario 107"
  - option "Test Scenario 108"
  - option "Test Scenario 109"
  - option "Test Scenario 110"
  - option "Scenario A3"
  - option "Scenario 4"
  - option "Scenario U1"
  - option "Scenario U42473"
  - option "Scenario U68395"
  - option "Scenario U78979"
  - option "Scenario U3385"
  - option "Scenario U67702"
  - option "Scenario U50159"
  - option "Scenario U30136"
  - option "Test Scenario1"
  - option "Scenario U47981"
  - option "Scenario U21195"
  - option "Scenario U60973"
  - option "Scenario U78063"
  - option "Scenario U30453"
  - option "Scenario U49967"
  - option "Scenario U50514"
  - option "Scenario U4046"
  - option "Scenario U79920"
  - option "Scenario U25176"
  - option "Scenario U59927"
  - option "Scenario U39855"
  - option "Scenario U43666"
  - option "Scenario U74736"
  - option "Scenario U39374"
  - option "Scenario U36835"
  - option "Scenario U47886"
  - option "Scenario U91053"
  - option "Scenario U75934"
  - option "Scenario U77119"
  - option "Scenario U95856"
  - option "Scenario U78257"
  - option "Scenario U69386"
  - option "Scenario U142"
  - option "Scenario U30947"
  - option "Scenario U12469"
  - option "Test time Scenario"
  - option "Scenario U32269"
  - option "Scenario U7311"
  - option "Scenario U53710"
  - option "Scenario U92974"
  - option "Scenario U97371"
  - option "Scenario U97486"
  - option "Scenario U9718"
  - option "Scenario U71126"
  - option "Scenario U32168"
  - option "Scenario U74558"
  - option "Scenario U88638"
  - option "Scenario U33554"
  - option "Scenario U99800"
  - option "Scenario U94153"
  - option "Scenario U48214"
  - option "Scenario U58194"
  - option "Scenario U6324"
  - option "Scenario U81813"
  - option "Scenario U54441"
  - option "Scenario U5549"
  - option "Scenario U82975"
  - option "Scenario U19781"
  - option "Scenario U90396"
  - option "Scenario U65857"
  - option "Scenario U41423"
  - option "Scenario U70616"
  - option "Scenario U43337"
  - option "Scenario U60598"
  - option "Scenario U130"
  - option "Scenario U22643"
  - option "Scenario U46975"
  - option "Scenario U75148"
  - option "Scenario U72054"
  - option "Scenario U92441"
  - option "Scenario U85192"
  - option "Scenario U96487"
  - option "Scenario U18433"
  - option "Scenario U50628"
  - option "Scenario U5881"
  - option "Scenario U76239"
  - option "Scenario U91501"
  - option "Scenario U81265"
  - option "Scenario U95641"
  - option "Scenario U34259"
  - option "Scenario U61567"
  - option "Scenario U58849"
  - option "Scenario U69396"
  - option "Scenario U6299"
  - option "Scenario U72560"
  - option "Scenario U22567"
  - option "Scenario U51106"
  - option "Scenario U59758"
  - option "Scenario U86940"
  - option "Scenario U54422"
  - option "Scenario U3313"
  - option "Scenario U92075"
  - option "Scenario U25358"
  - option "Scenario U25851"
  - option "Scenario U15956"
  - option "Scenario U32195"
  - option "Scenario U97838"
  - option "Scenario U57148"
  - option "Scenario U22333"
  - option "Scenario U65509"
  - option "Scenario U25004"
  - option "Scenario U27962"
  - option "Scenario U29612"
  - option "Scenario U5422"
  - option "Scenario U36439"
  - option "Scenario U38969"
  - option "Scenario U51385"
  - option "Scenario U70867"
  - option "Scenario U57569"
  - option "Scenario U1123"
  - option "Scenario U97450"
  - option "Scenario U52122"
  - option "Scenario U20398"
  - option "Scenario U43591"
  - option "Scenario U17759"
  - option "Scenario U65213"
  - option "Scenario U4253"
  - option "Scenario U18231"
  - option "Scenario U51781"
  - option "Scenario U48701"
  - option "Scenario U63538"
  - option "Scenario U32567"
  - option "Scenario U2435"
  - option "Scenario U52796"
  - option "Scenario U17761"
  - option "Scenario U56898"
  - option "Scenario U14717"
  - option "Scenario U15557"
  - option "Scenario U66580"
  - option "Scenario U23962"
  - option "Scenario U14516"
  - option "Scenario U74838"
  - option "Scenario U95741"
  - option "Scenario U28300"
  - option "Scenario U70325"
  - option "Scenario U51480"
  - option "Scenario U80519"
  - option "Scenario U68045"
  - option "Scenario U69407"
  - option "Scenario U92087"
  - option "Scenario U11330"
  - option "Scenario U20572"
  - option "Scenario U79318"
  - option "Scenario U87261"
  - option "Scenario U34163"
  - option "Scenario U40675"
  - option "Scenario U76577"
  - option "Scenario U65046"
  - option "Scenario U75132"
  - option "Scenario U57164"
  - option "Scenario U91421"
  - option "Scenario U51964"
  - option "Scenario U93287"
  - option "Scenario U57790"
  - option "Scenario U24519"
  - option "Scenario U5629"
  - option "Scenario U4370"
  - option "Scenario U7503"
  - option "Scenario U33588"
  - option "Scenario U72043"
  - option "Scenario U952"
  - option "Scenario U88226"
  - option "Scenario U14590"
  - option "Scenario U59854"
  - option "Scenario U66267"
  - option "Scenario U91593"
  - option "Scenario U54435"
  - option "Scenario U42555"
  - option "Scenario U79777"
  - option "Scenario U3528"
  - option "Scenario U74702"
  - option "Scenario U85704"
  - option "Scenario U16015"
  - option "Scenario U30170"
  - option "Scenario U18967"
  - option "Scenario U96313"
  - option "Scenario U62334"
  - option "Scenario U50406"
  - option "Scenario U74793"
  - option "Scenario U41077"
  - option "Scenario U72088"
  - option "Scenario U63078"
  - option "Scenario U84492"
  - option "Scenario U86640"
  - option "Scenario U17386"
  - option "Scenario U18953"
  - option "Scenario U22842"
  - option "Scenario U24620"
  - option "Scenario U76263"
  - option "Scenario U11875"
  - option "Scenario U79798"
  - option "Scenario U68687"
  - option "Scenario U84928"
  - option "Scenario U72012"
  - option "Scenario U69754"
  - option "Scenario U73138"
  - option "Scenario U42170"
  - option "Scenario U97991"
  - option "Scenario U74385"
  - option "Scenario U98145"
  - option "Scenario U52046"
  - option "Scenario U2134"
  - option "Scenario U4403"
  - option "Scenario U47008"
  - option "Scenario U38351"
  - option "Scenario U35511"
  - option "Scenario U35547"
  - option "Scenario U193"
  - option "Scenario U51606"
  - option "Scenario U20058"
  - option "Scenario U29680"
  - option "Scenario U96843"
  - option "Scenario U85439"
  - option "Scenario U49971"
  - option "Scenario U816"
  - option "Scenario U28027"
  - option "Scenario U33424"
  - option "Scenario U16037"
  - option "Scenario U16165"
  - option "Scenario U47559"
  - option "Scenario U26170"
  - option "Scenario U86473"
  - option "Scenario U66066"
  - option "Scenario U21357"
  - option "Scenario U54271"
  - option "Scenario U48062"
  - option "Scenario W_3"
  - option "Sceario 12 ho"
  - option "Scenario U11837"
  - option "Scenario U25061"
  - option "Scenario U25981"
  - option "Scenario U3988"
  - option "Scenario U22247"
```

# Test source

```ts
   52 |   });
   53 |
   54 |   test.beforeEach(async () => {
   55 |     await page.goto('https://moyai-cms.innov8.jp/login', { timeout: 90000 });
   56 |     if (!process.env.CMS_EMAIL || !process.env.CMS_PASSWORD) {
   57 |       throw new Error('Missing required environment variables: CMS_EMAIL and CMS_PASSWORD');
   58 |     }
   59 |     await page.getByRole('textbox', { name: 'Enter your email address' }).fill(process.env.CMS_EMAIL || '');
   60 |     await page.getByRole('textbox', { name: 'Enter your password' }).fill(process.env.CMS_PASSWORD || '');
   61 |     await page.getByRole('button', { name: 'Login' }).click();
   62 |     await page.waitForURL('**/dashboard', { timeout: 60000 });
   63 |   });
   64 |
   65 |   test.describe('Group & Player Management', () => {
   66 |     test('Create Group', async () => {
   67 |       await page.getByRole('button', { name: 'Expand Icon' }).click();
   68 |       await page.getByRole('link', { name: 'Groups' }).click();
   69 |       await page.getByRole('listitem').filter({ hasText: /^Groups$/ }).getByRole('link').click();
   70 |       await page.getByRole('button', { name: '+ Add Group' }).click();
   71 |       await page.getByRole('textbox', { name: 'Enter group name' }).fill(groupName);
   72 |       await page.getByRole('button', { name: 'Add' }).click();
   73 |       await page.getByRole('button', { name: 'Done' }).click();
   74 |     });
   75 |
   76 |     test('Create Subgroup', async () => {
   77 |       await page.getByRole('link', { name: 'Subgroups', exact: true }).click();
   78 |       await page.getByRole('button', { name: '+ Add Subgroup' }).click();
   79 |       await page.locator('.css-19bb58m').first().click();
   80 |       await page.getByRole('option', { name: groupName }).click();
   81 |       await page.getByRole('textbox', { name: 'Enter sub group name' }).fill(subGroupName);
   82 |       await page.getByRole('button', { name: 'Add' }).click();
   83 |       await page.getByRole('button', { name: 'Done' }).click();
   84 |     });
   85 |
   86 |     test('Create Sub Subgroup', async () => {
   87 |       await page.getByRole('link', { name: 'Sub Subgroups' }).click();
   88 |       await page.getByRole('button', { name: '+ Add Sub Subgroup' }).click();
   89 |       await page.locator('.css-19bb58m').first().click();
   90 |       await page.getByRole('option', { name: groupName }).click();
   91 |       await page.locator('.css-35k6c7-control .css-19bb58m').click();
   92 |       await page.getByRole('option', { name: subGroupName }).click();
   93 |       await page.getByRole('textbox', { name: 'Enter sub subgroup name' }).fill(subSubGroupName);
   94 |       await page.getByRole('button', { name: 'Add' }).click();
   95 |       await page.getByRole('button', { name: 'Done' }).click();
   96 |     });
   97 |
   98 |     test('Create Player', async () => {
   99 |       await page.getByRole('link', { name: 'Lan Manager' }).click();
  100 |       await page.getByRole('list').filter({ hasText: /^Players$/ }).getByRole('link').click();
  101 |       await page.getByRole('button', { name: '+ Add Player' }).click();
  102 |       await page.locator('.css-19bb58m').first().click();
  103 |       await page.getByRole('option', { name: groupName }).click();
  104 |       await page.locator('.css-35k6c7-control > .css-hlgwow > .css-19bb58m').click();
  105 |       await page.getByRole('option', { name: subGroupName }).click();
  106 |       await page.locator('div:nth-child(3) > .css-b62m3t-container > .css-35k6c7-control > .css-hlgwow > .css-19bb58m').click();
  107 |       await page.getByRole('option', { name: subSubGroupName }).click();
  108 |       await page.getByRole('textbox', { name: 'Enter player name' }).fill(playerName);
  109 |       await page.getByRole('button', { name: 'Add' }).click();
  110 |       await page.waitForSelector('text=Player added successfully.', { timeout: 15000 });
  111 |       await page.getByRole('button', { name: 'Done' }).click();
  112 |     });
  113 |   });
  114 |
  115 |   test.describe('Content Management', () => {
  116 |     test('Upload Video', async () => {
  117 |       const stats = fs.statSync(videoPath);
  118 |       if (stats.size > 50 * 1024 * 1024) throw new Error(`Video file exceeds 50MB: ${videoFileName}`);
  119 |       await page.getByRole('link', { name: 'Contents' }).click();
  120 |       await page.getByRole('link', { name: 'Scenario' }).click();
  121 |       await page.getByRole('button', { name: 'All Videos' }).click();
  122 |       await page.getByRole('button', { name: '+ Add Videos' }).click();
  123 |       await page.locator('input[type="file"]').setInputFiles(videoPath);
  124 |       await page.waitForSelector(`text=${videoFileName}`, { timeout: 180000 });
  125 |       await page.waitForSelector('text=Loading...', { state: 'detached', timeout: 480000 });
  126 |       await page.getByRole('button', { name: 'Add' }).click();
  127 |       await page.getByRole('button', { name: 'Done' }).click();
  128 |     });
  129 |
  130 |     test('Create Scenario', async () => {
  131 |       await page.getByRole('button', { name: 'All Scenarios' }).click();
  132 |       await page.getByRole('button', { name: '+ Make Scenario' }).click();
  133 |       await page.getByRole('textbox', { name: 'Enter scenario name' }).fill(scenarioName);
  134 |       await page.locator('.css-19bb58m').click();
  135 |       await page.getByRole('option', { name: videoFileName }).click();
  136 |       const scenarioAddButton = page.getByRole('button', { name: 'Add' });
  137 |       await expect(scenarioAddButton).toBeEnabled({ timeout: 15000 });
  138 |       await scenarioAddButton.click();
  139 |       await page.getByRole('button', { name: 'Done' }).click();
  140 |     });
  141 |   });
  142 |
  143 |   test.describe('Scheduling', () => {
  144 |     test('Create Timetable', async () => {
  145 |       await page.getByRole('link', { name: 'Time Table' }).click();
  146 |       await page.getByRole('button', { name: '+ Add Time Table' }).click();
  147 |       const now = new Date();
  148 |       const startTime = now.toTimeString().slice(0, 5);
  149 |       const endTime = new Date(now.getTime() + 5 * 60000).toTimeString().slice(0, 5);
  150 |       await page.getByRole('textbox', { name: 'Enter time table name' }).fill(timetableName);
  151 |       await page.locator('.css-19bb58m').click();
> 152 |       await page.getByRole('option', { name: scenarioName }).click();
      |                                                              ^ TimeoutError: locator.click: Timeout 10000ms exceeded.
  153 |       await page.getByPlaceholder('Select start time').fill(startTime);
  154 |       await page.getByPlaceholder('Select end time').fill(endTime);
  155 |       await page.getByRole('button', { name: 'Add' }).click();
  156 |       await page.getByRole('button', { name: 'Done' }).click();
  157 |     });
  158 |
  159 |     test('Create Schedule', async () => {
  160 |       await page.getByRole('link', { name: 'Schedule' }).click();
  161 |       await page.getByRole('button', { name: '+ Add Schedule' }).click();
  162 |       await page.getByRole('textbox', { name: 'Enter schedule name' }).fill(scheduleName);
  163 |       await page.locator('.css-19bb58m').click();
  164 |       await page.getByRole('option', { name: timetableName }).click();
  165 |       const today = new Date().getDate().toString();
  166 |       await page.getByRole('textbox', { name: 'Select start date' }).click();
  167 |       await page.locator(`.react-datepicker__day >> text="${today}"`).first().click();
  168 |       await page.getByRole('textbox', { name: 'Select end date' }).click();
  169 |       await page.locator(`.react-datepicker__day >> text="${today}"`).first().click();
  170 |       await page.getByRole('button', { name: 'Add' }).click();
  171 |       await page.waitForSelector('text=Schedule added successfully.', { timeout: 15000 });
  172 |       await page.getByRole('button', { name: 'Done' }).click();
  173 |     });
  174 |
  175 |     test('Assign Scenario to Player', async () => {
  176 |       await page.getByRole('link', { name: 'Dashboard' }).click();
  177 |       await page.getByRole('button', { name: '+ Assign Scenario' }).click();
  178 |       await page.locator('.css-19bb58m').first().click();
  179 |       await page.getByRole('option', { name: scenarioName }).click();
  180 |       await page.locator('.css-35k6c7-control > .css-hlgwow > .css-19bb58m').click();
  181 |       await page.getByRole('option', { name: playerName }).click();
  182 |       await page.getByRole('button', { name: 'Add' }).click();
  183 |       await page.getByRole('button', { name: 'Done' }).click();
  184 |     });
  185 |   });
  186 |
  187 |   test.describe('User Management & Logout', () => {
  188 |     test('Create Manager', async () => {
  189 |       await page.getByRole('link', { name: 'User Account' }).click();
  190 |       await page.getByRole('button', { name: '+ Create Manager' }).click();
  191 |       await page.getByRole('textbox', { name: 'Enter first name' }).fill(uniqueFirstName);
  192 |       await page.getByRole('textbox', { name: 'Enter last name' }).fill(uniqueLastName);
  193 |       await page.getByRole('textbox', { name: 'Enter email' }).fill(uniqueEmail);
  194 |       await page.locator('.css-19bb58m').click();
  195 |       await page.getByRole('option', { name: groupName }).click();
  196 |       const managerAddButton = page.getByRole('button', { name: 'Add' });
  197 |       await expect(managerAddButton).toBeEnabled({ timeout: 10000 });
  198 |       await managerAddButton.click();
  199 |       await page.getByRole('button', { name: 'Done' }).click();
  200 |     });
  201 |
  202 |     test('Logout', async () => {
  203 |       await page.getByRole('button', { name: 'A', exact: true }).click();
  204 |       await page.getByRole('button', { name: 'Logout' }).click();
  205 |       await page.getByRole('button', { name: 'Yes' }).click();
  206 |       await page.waitForURL('**/login', { timeout: 60000 });
  207 |     });
  208 |   });
  209 |
  210 |   test.afterAll(async () => {
  211 |     await browser.close();
  212 |   });
  213 | });
  214 |
```